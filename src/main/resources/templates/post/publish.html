<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>创建帖子</title>
  <link rel="stylesheet" type="text/css" th:href="@{/layui/css/layui.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
</head>

<body>
<div class="header">
  <h1 class="logo">
    <a th:href="@{/user/index}">
      <img th:src="@{/img/logo.png}">
    </a>
  </h1>
  <div class="nav">
    <a th:href="@{/user/index}">新闻资讯</a>
    <a th:href="@{/user/activity}">活动</a>
    <a th:href="@{/user/album/list}">相册</a>
    <a th:href="@{/user/post/list}" class="active">广场</a>
    <a href="about.html">关于</a>
  </div>
  <div class="nav-right">
    <form class="layui-form" action="">
      <div class="layui-input-block">
        <input type="text" name="search" lay-verify="required" autocomplete="off" placeholder="&#xe615;"
               class="layui-icon layui-input">
      </div>
    </form>
    <div class="user">
      <a href="#">登录</a>
      <a href="#">注册</a>
      <!-- <a class="avatar">
        <img src="../res/img/banner.jpg">
      </a> -->
    </div>
  </div>
</div>


<div class="content">
  <div class="w1000">
    <div class="navigation">
      <a th:href="@{/user/post/list}"><i class="layui-icon layui-icon-left">返回广场首页</i></a>
    </div>
    <div class="create">
      <!-- 创建帖子表单 -->
      <form class="layui-form layui-form-pane" method="post" th:action="@{/user/post/add}" style="width: 600px;margin: 0 auto;">
        <!-- 帖子分类 -->
        <div class="layui-form-item">
          <label class="layui-form-label">帖子分类</label>
          <div class="layui-input-block">
            <select name="sort" lay-verify="required">
              <option value=""></option>
              <option value="1">今日新鲜事</option>
              <option value="2">今天学到了</option>
              <option value="3">下班去哪玩</option>
              <option value="4">什么值得买</option>
              <option value="5">搞笑段子</option>
              <option value="6">其它</option>
            </select>
          </div>
        </div>
        <!-- 详细描述 -->
        <div class="layui-form-item">
          <label class="layui-form-label">详细描述</label>
          <textarea id="content" name="content" style="display: none;"></textarea>
        </div>
        <div class="layui-form-item">
          <div class="layui-input-block">
            <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="footer-wrap">
  <div class="footer w1000">
    <div class="qrcode">
      <img th:src="@{/img/erweima.jpg}">
    </div>
    <div class="practice-mode">
      <img th:src="@{/img/down_img.jpg}">
      <div class="text">
        <h4 class="title">我的联系方式</h4>
        <p>微信<span class="WeChat">1234567890</span></p>
        <p>手机<span class="iphone">1234567890</span></p>
        <p>邮箱<span class="email">1234567890@qq.com</span></p>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" th:src="@{/layui/layui.js}"></script>
<script type="text/javascript">
  layui.config({
    base: '[[@{/js/util/}]]'
  }).use(['element', 'laypage', 'form', 'menu'], function () {
    element = layui.element, laypage = layui.laypage, form = layui.form, menu = layui.menu;
    laypage.render({
      elem: 'demo'
      , count: 70 //数据总数，从服务端得到
    });
    menu.init();
    menu.off();
    menu.comment_off();
  });
  layui.use(['form', 'layedit'], function () {
    var form = layui.form
            , layer = layui.layer
            , layedit = layui.layedit;
    //自定义编辑器工具栏
    let index = layedit.build('content', {
      tool: ['strong', 'image', 'link', 'unlink', '|', 'left', 'center', 'right']
    });
    //提交时把值同步到文本域中
    form.verify({
      //content富文本域中的lay-verify值
      content: function(value) {
        return layedit.sync(index);
      }
    });
    //监听提交
    form.on('submit(formDemo)', function (data) {
      layer.alert(JSON.stringify(data.field), {
        title: '最终的提交信息'
      })
      return true;
    });
  });
</script>
</body>

</html>